{
	"name": "dataflow1",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "ds_p9_source_json_files",
						"type": "DatasetReference"
					},
					"name": "ExampleJSONFiles"
				}
			],
			"sinks": [],
			"transformations": [
				{
					"name": "flatten1"
				}
			],
			"scriptLines": [
				"source(output(",
				"          employee as (department as (id as string, manager as (contact as (email as string, phone as string), id as string, name as string), name as string), id as string, name as string, position as string, projects as (projectId as string, projectName as string, startDate as date, tasks as (details as (completionDate as date, expectedCompletion as string, hoursSpent as short, technologiesUsed as string[]), status as string, taskId as string, title as string)[])[])",
				"     ),",
				"     allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     ignoreNoFilesFound: false,",
				"     documentForm: 'arrayOfDocuments') ~> ExampleJSONFiles",
				"ExampleJSONFiles foldDown(unroll(),",
				"     mapColumn(",
				"          id = employee.id,",
				"          name = employee.name,",
				"          position = employee.position,",
				"          department_id = employee.department.id,",
				"          project_id = employee.projects.projectId",
				"     ),",
				"     skipDuplicateMapInputs: false,",
				"     skipDuplicateMapOutputs: false) ~> flatten1"
			]
		}
	}
}